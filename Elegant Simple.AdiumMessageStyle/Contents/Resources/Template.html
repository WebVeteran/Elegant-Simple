<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" /><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" ><head>	<meta http-equiv="content-type" content="text/html; charset=utf-8" />	<base href="%@">	<script language="Javascript" src="lib/s2b1.js"></script>	<script language="Javascript">	// HIDE IS NOT WORKING	/* ===============================================================================	// ELEGANT SIMPLE 1.5	//	// Copyright (c) 2009-2011 Jules Gravinese (http://www.webveteran.com/)	//	// Elegant Simple is freely distributable under the terms of an MIT-style license.	//	// Permission is hereby granted, free of charge, to any person obtaining	// a copy of this software and associated documentation files (the	// "Software"), to deal in the Software without restriction, including	// without limitation the rights to use, copy, modify, merge, publish,	// distribute, sublicense, and/or sell copies of the Software, and to	// permit persons to whom the Software is furnished to do so, subject to	// the following conditions:	//	// The above copyright notice and this permission notice shall be	// included in all copies or substantial portions of the Software.	//	// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,	// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF	// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND	// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE	// LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION	// OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION	// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.	============================================================================== */		// logIt('hint');			var scrollbar = 0;		var tempH = 0;		var busy = 0;		var lastChildID;		// SCROLLERvar divHeight;var divHeightOrig;var lastPerc;Event.observe(window, "resize", function(){	if (scrollbar!=0) {		divHeight = $('scrollbar_content').scrollHeight - $('scrollbar_content').offsetHeight;		scrollbar.setValue(lastPerc);		refreshSlider();	}});function initSlider() {	logIt('initing');		divHeight = $('scrollbar_content').scrollHeight - $('scrollbar_content').offsetHeight;	divHeightOrig = divHeight;	scrollbar = new S2.UI.Slider(		'scrollbar_track', {			orientation: 'vertical',			onSlide: function(values, slider) {				$('scrollbar_content').scrollTop = Math.round((100- values[0])/100 * (divHeight));				lastPerc = values[0];		    },			onChange: function(values, slider) {				$('scrollbar_content').scrollTop = Math.round((100- values[0])/100 * (divHeight));		    }		}	);	$$('.ui-slider-handle')[0].makePositioned();	refreshSlider();	scrollbar.setValue(100);	hookEvent('scrollbar_content', 'mousewheel', scrollContent);}function refreshSlider() {	if (scrollbar==0) {		logIt('not refreshing');		return false;	}	logIt('refreshing');		scrollbar.active=true;	var visibleHeight = $('scrollbar_content').getHeight();	var contentsHeight = $('scrollbar_content').scrollHeight;	var sliderHeight = $('scrollbar_track').getHeight();	var handleHeight = Math.round(visibleHeight * sliderHeight / contentsHeight);	$$('.ui-slider-handle')[0].style['height'] = handleHeight + 'px';	scrollbar._computeTrackLength();	scrollbar._computeHandleLength();}function hookEvent(element, eventName, callback) {	if (typeof(element) == "string") {		element = document.getElementById(element);	}	if (element == null) {	    return;    }	if (element.addEventListener) {		if (eventName == 'mousewheel') {			element.addEventListener('DOMMouseScroll', callback, false);  			element.addEventListener(eventName, callback, false);		}	} else if (element.attachEvent) {		element.attachEvent("on" + eventName, callback);	}}function cancelEvent(e){	e = e ? e : window.event;	if (e.stopPropagation) {		e.stopPropagation();	}	if (e.preventDefault) {		e.preventDefault();	}	e.cancelBubble = true;	e.cancel = true;	e.returnValue = false;	return false;}function scrollContent(e) {	e = e ? e : window.event;	var raw = e.detail ? e.detail : e.wheelDelta;	var normal = e.detail ? e.detail * -1 : e.wheelDelta / 40;	scrollbar.setValue(lastPerc+normal);	cancelEvent(e);}		Event.observe(window,'load', function(){				// AUTOHIDE SCROLLBAR			/*Event.observe(window, 'mouseover',function(e){ 				// ONLY IF WITHIN WINDOW				if (Event.pointerX(e) >= 0 && Event.pointerY(e) >= 0) {					showScrollbar();				}			});*/			/*Event.observe('body', 'mouseout',function(e){ 				// ONLY IF OUT OF WINDOW				if (Event.pointerX(e) < 0 || Event.pointerY(e) < 0) {					hideScrollbar();				}			});*/		});		function showScrollbar() {			/*			if (myBGop) {				myBGop.cancel();			}			*/						$('filler').morph('opacity: 0.75;', {duration:.1});						// CAN WE?			if (scrollbar!=0) {				/*				if (myOpac) {					myOpac.cancel();					myMarg.cancel();				}				*/				$('scrollbar_track').morph('opacity:.2', {duration:.5});				//$('scrollbar_content').morph('margin-right:20px;', {duration:.1});					/*				$$('.message').each(function(m){					$(m).morph('padding-right:0px;', {duration:.1});				});				$$('.statusMsg').each(function(m){					$(m).morph('padding-right:0px;', {duration:.1});				});				*/			}			//}		}		function hideScrollbar() {			/*			if (myBGop) {				myBGop.cancel();			}			*/			logIt('hiding');			$('filler').morph('opacity: 0.35;', {duration:.1});							// CAN WE?			if (scrollbar!=0) {							/*				if (myOpac) {					myOpac.cancel();					myMarg.cancel();				}				*/				$('scrollbar_track').morph('opacity:0.1;', {duration:.5});				//$('scrollbar_content').morph('margin-right:5px;', {duration:.5});				/*				$$('.message').each(function(m){					$(m).morph('padding-right:15px;', {duration:.5});				});				$$('.statusMsg').each(function(m){					$(m).morph('padding-right:15px;', {duration:.5});				});				*/			}		}				function reScroll() {								// FIRST MAKE SURE ITS NOT ALREADY BUSY SCROLLING			if (busy==0) {							busy = 1;				if (scrollbar!=0) {					divHeight = $('scrollbar_content').scrollHeight - $('scrollbar_content').offsetHeight;					scrollbar.setValue(lastPerc);					refreshSlider();					setTimeout("scrollbar.setValue(0);", 100);				} else if ($('scrollbar_content').scrollHeight > $('scrollbar_content').getHeight()) { 					logIt('making scroller');					initSlider();					setTimeout("scrollbar.setValue(0);", 100);				}				setTimeout("busy=0;", 110);								// RECALC THE SCROLLER																// PAUSE, THEN SCROLL TO BOTTOM					// setTimeout("scrollbar.scrollTo('bottom',function(){logIt('done');busy=0;});", 100);			} else {				setTimeout("reScroll();", 110);			}		}				// APPENDING NEW CONTENT TO THE MESSAGE VIEW		function appendMessage(html) {								// REMOVE ANY EXISTING INSERTION POINT			var insert = document.getElementById("insert");			if(insert) insert.parentNode.removeChild(insert);						// APPEND THE NEW MESSAGE TO THE BOTTOM OF OUR CHAT BLOCK			var chat = document.getElementById("scrollbar_content");			var range = document.createRange();			range.selectNode(chat);			var documentFragment = range.createContextualFragment(html);			chat.appendChild(documentFragment);									// FADE IN THE LAST MESSAGE BLOCK			lastChildID = $('scrollbar_content').lastElementChild.identify();			$(lastChildID).morph('opacity:.99', {duration:1});						// UPDATE THE SCROLLER			logIt('appendMessage'+lastChildID);			setTimeout("reScroll();", 100);		}		function appendNextMessage(html){					// LOCATE THE INSERTION POINT			var insert = document.getElementById("insert");								// MAKE NEW NODE			range = document.createRange();			range.selectNode(insert.parentNode);			newNode = range.createContextualFragment(html);						// SWAP			insert.parentNode.replaceChild(newNode,insert);			// THIS HAS GOT TO BE THE COOLEST THING I'VE SEEN IN A WHILE:			lastChildID = $('insert').previous().identify();			$(lastChildID).morph('opacity:0.99', {duration:1});						// UPDATE THE SCROLLER			logIt('appendMessage'+lastChildID);			setTimeout("reScroll();", 100);		}				function logIt(message) {			client.debugLog(message);		}			</script>			<style id="mainStyle" type="text/css" media="screen,print">	@import url( "%@" ); </style>		<style type="text/css">		#filler {			position: fixed;			top: 0;			right: 0;			bottom: 0;			left: 0;			background-color: black;			opacity: .75; /*.35*/			z-index: 1;			margin: 0px;			padding: 0px;			-webkit-border-radius: 0px;		}				/*#scrollbar_container {			position: fixed;  			top: 10px;			left: 10px;			right: 10px;			bottom: 10px;			padding: 0px;			margin: 0px;			z-index: 2;			border: 1px solid red;		}*/ 		#scrollbar_content {  			position: fixed;  			top: 3px;			left: 3px;			right: 20px;			bottom: 3px;			padding: 0px;			margin: 0px ;			z-index: 2;			/* border: 1px solid green; */			overflow: hidden;			-webkit-border-radius: 4px;		}		 		#scrollbar_track, .scroll-track {  			background: transparent;			opacity: 1;			width:6px;    			cursor:pointer;			position: fixed;  			top: 5px;			right: 5px;			bottom: 5px;			border: 1px solid #000000;		    margin: 0px;			padding: 0px;			z-index:3;			-webkit-border-radius: 4px;		} 				 		#scrollbar_handle, .scroll-handle, .ui-slider .ui-slider-handle {  			-webkit-border-radius: 4px;			background: white;			opacity: 0.2;			cursor:pointer;			width:6px;  		    margin: 0px;			padding: 0px;			z-index:3;			position: absolute;		} 	 				#handleTable TR TD DIV {  			background: #666666; 			-webkit-border-radius: 2px; 			width: 4px; 			height: 4px;			margin: 2px 1px;		} 		 		div.message {			padding: 0px 0px 0px 0px;		}		div.statusMsg {			padding: 0px 0px 0px 0px;		}	</style></head><body style="==bodyBackground==" id="body"><div id="scrollbar_content"></div><div class="scroll-track" id="scrollbar_track"></div><div id="filler"></div></body></html>